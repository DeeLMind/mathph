import{_ as t,K as r,L as c,M as s,N as o,a5 as a,W as l,F as n}from"./framework-edebdfe1.js";const k={},i=s("h1",{id:"图片动作",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#图片动作","aria-hidden":"true"},"#"),o(" 图片动作")],-1),u={href:"https://colab.research.google.com/github/camenduru/MagicAnimate-colab/blob/main/MagicAnimate_colab.ipynb",target:"_blank",rel:"noopener noreferrer"},d=l(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token operator">%</span>cd <span class="token operator">/</span>content
!git clone <span class="token operator">-</span>b dev https<span class="token punctuation">:</span><span class="token operator">//</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>camenduru<span class="token operator">/</span>MagicAnimate<span class="token operator">-</span>hf

!pip install <span class="token operator">-</span>q diffusers<span class="token operator">==</span><span class="token number">0.21</span><span class="token number">.4</span> transformers<span class="token operator">==</span><span class="token number">4.32</span><span class="token number">.0</span> accelerate<span class="token operator">==</span><span class="token number">0.22</span><span class="token number">.0</span> omegaconf<span class="token operator">==</span><span class="token number">2.3</span><span class="token number">.0</span> einops<span class="token operator">==</span><span class="token number">0.6</span><span class="token number">.1</span> av gradio
!pip install <span class="token operator">-</span>q https<span class="token punctuation">:</span><span class="token operator">//</span>download<span class="token punctuation">.</span>pytorch<span class="token punctuation">.</span>org<span class="token operator">/</span>whl<span class="token operator">/</span>cu118<span class="token operator">/</span>xformers<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.22</span><span class="token punctuation">.</span>post4<span class="token operator">%</span>2Bcu118<span class="token operator">-</span>cp310<span class="token operator">-</span>cp310<span class="token operator">-</span>manylinux2014_x86_64<span class="token punctuation">.</span>whl

!apt <span class="token operator">-</span>y install <span class="token operator">-</span>qq aria2
BaseModelUrl <span class="token operator">=</span> <span class="token string">&quot;https://huggingface.co/runwayml/stable-diffusion-v1-5&quot;</span>
BaseModelDir <span class="token operator">=</span> <span class="token string">&quot;/content/MagicAnimate-hf/stable-diffusion-v1-5&quot;</span>
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>model_index<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span> <span class="token operator">-</span>o model_index<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>resolve<span class="token operator">/</span>main<span class="token operator">/</span>vae<span class="token operator">/</span>diffusion_pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span> <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>vae <span class="token operator">-</span>o diffusion_pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span>
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>vae<span class="token operator">/</span>config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>vae <span class="token operator">-</span>o config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>resolve<span class="token operator">/</span>main<span class="token operator">/</span>unet<span class="token operator">/</span>diffusion_pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span> <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>unet <span class="token operator">-</span>o diffusion_pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span>
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>unet<span class="token operator">/</span>config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>unet <span class="token operator">-</span>o config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>tokenizer<span class="token operator">/</span>vocab<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>tokenizer <span class="token operator">-</span>o vocab<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>tokenizer<span class="token operator">/</span>tokenizer_config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>tokenizer <span class="token operator">-</span>o tokenizer_config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>tokenizer<span class="token operator">/</span>special_tokens_map<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>tokenizer <span class="token operator">-</span>o special_tokens_map<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>tokenizer<span class="token operator">/</span>merges<span class="token punctuation">.</span>txt <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>tokenizer <span class="token operator">-</span>o merges<span class="token punctuation">.</span>txt
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>resolve<span class="token operator">/</span>main<span class="token operator">/</span>text_encoder<span class="token operator">/</span>pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span> <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>text_encoder <span class="token operator">-</span>o pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span>
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>text_encoder<span class="token operator">/</span>config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>text_encoder <span class="token operator">-</span>o config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>scheduler<span class="token operator">/</span>scheduler_config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>scheduler <span class="token operator">-</span>o scheduler_config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>resolve<span class="token operator">/</span>main<span class="token operator">/</span>safety_checker<span class="token operator">/</span>pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span> <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>safety_checker <span class="token operator">-</span>o pytorch_model<span class="token punctuation">.</span><span class="token builtin">bin</span>
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>safety_checker<span class="token operator">/</span>config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>safety_checker <span class="token operator">-</span>o config<span class="token punctuation">.</span>json
!aria2c <span class="token operator">-</span><span class="token operator">-</span>console<span class="token operator">-</span>log<span class="token operator">-</span>level<span class="token operator">=</span>error <span class="token operator">-</span>c <span class="token operator">-</span>x <span class="token number">16</span> <span class="token operator">-</span>s <span class="token number">16</span> <span class="token operator">-</span>k 1M <span class="token punctuation">{</span>BaseModelUrl<span class="token punctuation">}</span><span class="token operator">/</span>raw<span class="token operator">/</span>main<span class="token operator">/</span>feature_extractor<span class="token operator">/</span>preprocessor_config<span class="token punctuation">.</span>json <span class="token operator">-</span>d <span class="token punctuation">{</span>BaseModelDir<span class="token punctuation">}</span><span class="token operator">/</span>feature_extractor <span class="token operator">-</span>o preprocessor_config<span class="token punctuation">.</span>json

<span class="token operator">%</span>cd <span class="token operator">/</span>content<span class="token operator">/</span>MagicAnimate<span class="token operator">-</span>hf
!python app<span class="token punctuation">.</span>py

<span class="token operator">//</span> https<span class="token punctuation">:</span><span class="token operator">//</span>f04b4fcbbbce6b469c<span class="token punctuation">.</span>gradio<span class="token punctuation">.</span>live<span class="token operator">/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function m(b,v){const p=n("ExternalLinkIcon"),e=n("DocsAD");return r(),c("div",null,[i,s("ul",null,[s("li",null,[s("a",u,[o("https://colab.research.google.com/github/camenduru/MagicAnimate-colab/blob/main/MagicAnimate_colab.ipynb"),a(p)])])]),d,a(e)])}const g=t(k,[["render",m],["__file","mvideo.html.vue"]]);export{g as default};
