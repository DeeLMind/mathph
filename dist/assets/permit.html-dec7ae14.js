import{_ as t,K as i,L as p,a5 as e,M as n,N as s,W as o,F as c}from"./framework-edebdfe1.js";const l={},u=n("h1",{id:"permit",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#permit","aria-hidden":"true"},"#"),s(" Permit")],-1),r=n("h2",{id:"permit-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#permit-1","aria-hidden":"true"},"#"),s(" Permit")],-1),d=n("p",null,[n("code",null,"permit"),s(" 是 EIP-2612 中定义的一种方法，它允许代币持有者通过签名来授权转账，而无需通过标准的 "),n("code",null,"approve"),s(" 方式。这样可以避免用户为了授权转账而支付额外的以太坊网络Gas费用。")],-1),k=o(`<div class="language-solidity line-numbers-mode" data-ext="solidity"><pre class="language-solidity"><code><span class="token comment">// SPDX-License-Identifier: MIT</span>
<span class="token keyword">pragma</span> <span class="token keyword">solidity</span> <span class="token operator">^</span><span class="token version number">0.8.0</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;@openzeppelin/contracts/token/ERC20/extensions/draft-ERC20Permit.sol&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">contract</span> <span class="token class-name">PermitToken</span> <span class="token keyword">is</span> ERC20Permit <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">ERC20</span><span class="token punctuation">(</span><span class="token string">&quot;PermitToken&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PTK&quot;</span><span class="token punctuation">)</span> <span class="token function">ERC20Permit</span><span class="token punctuation">(</span><span class="token string">&quot;PermitToken&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_mint</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token operator">**</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">permit</span><span class="token punctuation">(</span>
    <span class="token builtin">address</span> owner<span class="token punctuation">,</span>
    <span class="token builtin">address</span> spender<span class="token punctuation">,</span>
    <span class="token builtin">uint256</span> value<span class="token punctuation">,</span>
    <span class="token builtin">uint256</span> deadline<span class="token punctuation">,</span>
    <span class="token builtin">uint8</span> v<span class="token punctuation">,</span>
    <span class="token builtin">bytes32</span> r<span class="token punctuation">,</span>
    <span class="token builtin">bytes32</span> s
<span class="token punctuation">)</span> <span class="token keyword">external</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),m=n("h2",{id:"permit2",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#permit2","aria-hidden":"true"},"#"),s(" Permit2")],-1),v=n("p",null,[n("code",null,"permit2"),s(" 是 permit 的一个增强版，允许用户在同一个交易中管理多个授权操作。这种模式适用于更复杂的场景，特别是需要批量处理授权时。")],-1);function b(_,h){const a=c("DocsAD");return i(),p("div",null,[u,r,d,e(a),k,e(a),m,v])}const y=t(l,[["render",b],["__file","permit.html.vue"]]);export{y as default};
